{"version":3,"file":"static/development/pages/index.js","sources":["webpack:///webpack/bootstrap","webpack:///./components/MyComponent.tsx","webpack:///./hoc/withData.ts","webpack:///./node_modules/@babel/runtime-corejs2/core-js/object/entries.js","webpack:///./pages/aws-exports.js","webpack:///./pages/index.tsx","webpack:///external \"aws-amplify\"","webpack:///external \"core-js/library/fn/object/entries\"","webpack:///external \"graphql-tag\"","webpack:///external \"next-apollo-appsync\"","webpack:///external \"next-cookies\"","webpack:///external \"react\"","webpack:///external \"react-apollo\""],"sourcesContent":[" \t// The module cache\n \tvar installedModules = require('../../../ssr-module-cache.js');\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tvar threw = true;\n \t\ttry {\n \t\t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n \t\t\tthrew = false;\n \t\t} finally {\n \t\t\tif(threw) delete installedModules[moduleId];\n \t\t}\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 3);\n","import React, { useContext } from \"react\";\nimport { Query } from \"react-apollo\";\nimport gql from \"graphql-tag\";\nimport { AuthContext } from \"../pages\";\n\nconst MyComponent = () => {\n  const { token } = useContext(AuthContext);\n\n  return (\n    <div>\n      <Query\n        context={{\n          headers: {\n            Authorization: token\n          }\n        }}\n        query={gql(`\n        query Blogs {\n          listBlogs {\n            items{\n              id\n              name\n            }\n          }\n        }\n      `)}\n      >\n        {data => {\n          return null;\n        }}\n      </Query>\n    </div>\n  );\n};\n\nexport default MyComponent;\n","import { withAppSyncData } from 'next-apollo-appsync'\nimport awsConfig from '../pages/aws-exports';\n\nconst config = {\n    url: awsConfig.aws_appsync_graphqlEndpoint,\n    region: awsConfig.aws_appsync_region,\n    auth: {\n        type: awsConfig.aws_appsync_authenticationType,\n    },\n}\n\nexport default withAppSyncData(config);","module.exports = require(\"core-js/library/fn/object/entries\");","// WARNING: DO NOT EDIT. This file is automatically generated by AWS Amplify. It will be overwritten.\n\nconst awsmobile = {\n  aws_project_region: \"us-east-1\",\n  aws_cognito_identity_pool_id:\n    \"us-east-1:47521558-0278-4904-86bb-f1d469a1a3d7\",\n  aws_cognito_region: \"us-east-1\",\n  aws_user_pools_id: \"us-east-1_mGNXeWhnY\",\n  aws_user_pools_web_client_id: \"2h25oqdr9klp5gm3kck33ritpe\",\n  oauth: {\n    domain: \"retroboard-web.auth.us-east-1.amazoncognito.com\",\n    scope: [\n      \"phone\",\n      \"email\",\n      \"openid\",\n      \"profile\",\n      \"aws.cognito.signin.user.admin\"\n    ],\n    redirectSignIn: \"http://localhost:3000/\",\n    redirectSignOut: \"http://localhost:3000/\",\n    responseType: \"code\"\n  },\n  federationTarget: \"COGNITO_USER_POOLS\",\n  aws_appsync_graphqlEndpoint:\n    \"https://qopxzpnztvcutdt6ytek2jlzcq.appsync-api.us-east-1.amazonaws.com/graphql\",\n  aws_appsync_region: \"us-east-1\",\n  aws_appsync_authenticationType: \"AMAZON_COGNITO_USER_POOLS\",\n  aws_content_delivery_bucket: \"retroboard-web\",\n  aws_content_delivery_bucket_region: \"us-east-1\",\n  aws_content_delivery_url: \"https://d3kav8c1juosam.cloudfront.net\",\n  Auth: {\n    cookieStorage: {\n      // REQUIRED - Cookie domain (only required if cookieStorage is provided)\n      domain: \"localhost\",\n      // OPTIONAL - Cookie path\n      path: \"/\",\n      // OPTIONAL - Cookie expiration in days\n      expires: 365,\n      // OPTIONAL - Cookie secure flag\n      // Either true or false, indicating if the cookie transmission requires a secure protocol (https).\n      secure: false\n    }\n  }\n};\n\nexport default awsmobile;\n","import React, { useEffect } from \"react\";\nimport \"./App.css\";\nimport { Auth } from \"aws-amplify\";\nimport MyComponent from \"../components/MyComponent\";\nimport withData from \"../hoc/withData\";\nimport cookies from \"next-cookies\";\nimport { NextPage } from \"next\";\n\nexport const AuthContext = React.createContext({\n  token: \"\",\n  userDetails: {} as any\n});\n\ninterface Props {\n  token: string;\n  userDetails: any;\n}\n\nconst App: NextPage<Props> = props => {\n  const { token, userDetails } = props;\n\n  useEffect(() => {\n    Auth.currentAuthenticatedUser()\n      .then(user => console.log({ user }))\n      .catch(err => console.log(err));\n  });\n\n  const checkUser = function() {\n    Auth.currentAuthenticatedUser()\n      .then(user => console.log({ user }))\n      .catch(err => console.log(err));\n  };\n\n  const signOut = function() {\n    Auth.signOut()\n      .then(data => console.log(data))\n      .catch(err => console.log(err));\n  };\n  return (\n    <AuthContext.Provider\n      value={{\n        token,\n        userDetails\n      }}\n    >\n      <div className=\"App\">\n        <header className=\"App-header\">\n          <p>\n            Edit <code>src/App.js</code> and save to reload.\n          </p>\n          <MyComponent />\n          <button\n            onClick={() => {\n              //@ts-ignore\n              Auth.federatedSignIn({ provider: \"Google\" });\n            }}\n          >\n            Sign In\n          </button>\n          <button onClick={checkUser}>Check User</button>\n          <button onClick={signOut}>Sign Out</button>\n        </header>\n      </div>\n    </AuthContext.Provider>\n  );\n};\n\nApp.getInitialProps = async function(ctx) {\n  //TODO: Token check for private routes\n  //Cookie access token or not\n  // if(ctx does not include accessToken then private route){}\n\n  const _cookies = cookies(ctx);\n  let accessToken = \"\";\n  let userDetails = {} as any;\n\n  Object.entries(_cookies).forEach(([key, value]) => {\n    if (key.includes(\"accessToken\")) accessToken = value;\n    if (key.includes(\"user\")) userDetails = value;\n  });\n\n  console.log(_cookies);\n\n  return {\n    token: accessToken,\n    userDetails: userDetails\n  };\n};\n\nexport default withData(App);\n","module.exports = require(\"aws-amplify\");","module.exports = require(\"core-js/library/fn/object/entries\");","module.exports = require(\"graphql-tag\");","module.exports = require(\"next-apollo-appsync\");","module.exports = require(\"next-cookies\");","module.exports = require(\"react\");","module.exports = require(\"react-apollo\");"],"mappings":";;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;ACxFA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AADA;AADA;AAKA;;;;;;;;;AAAA;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AAkBA;AACA;AAIA;AACA;AACA;;;;;;;;;;;;ACnCA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AADA;AAHA;AAQA;;;;;;;;;;;ACXA;;;;;;;;;;;;;;;;;;;;;;;ACAA;AAAA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAOA;AACA;AACA;AAXA;AAaA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AATA;AADA;AA5BA;AA2CA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC7CA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AAFA;AACA;AASA;AACA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AAGA;AACA;AAAA;AAEA;AACA;AACA;AAFA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AAAA;AAAA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAFA;AAIA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;ACzFA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;A","sourceRoot":""}